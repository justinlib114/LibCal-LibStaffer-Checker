<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Desk Conflict Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
    }
    h1 {
      text-align: center;
    }
    .user {
      margin: 20px 0;
      padding: 15px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .conflict, .available {
      margin-left: 20px;
    }
    .conflict span {
      color: red;
    }
    .available span {
      color: green;
    }
  </style>
</head>
<body>
  <h1>Desk Conflict Checker</h1>

  <% for (let name in conflicts) { %>
    <div class="user">
      <h2><%= name %></h2>

      <div class="conflict">
        <strong>Conflicts:</strong><br>
        <% if (conflicts[name].length === 0) { %>
          None
        <% } else { %>
          <% conflicts[name].forEach(event => { %>
            <div>
              <span><%= event.from.format("ddd MM/DD h:mm A") %> - <%= event.to.format("h:mm A") %>: <%= event.type %></span>
            </div>
          <% }) %>
        <% } %>
      </div>

      <div class="available">
        <strong>Available Desk Shifts:</strong><br>
        <% if (availability[name].length === 0) { %>
          None
        <% } else { %>
          <% availability[name].forEach(slot => { %>
            <div>
              <span><%= slot.date %> â€” <%= slot.from %> to <%= slot.to %></span>
            </div>
          <% }) %>
        <% } %>
      </div>
    </div>
  <% } %>
</body>
</html>
